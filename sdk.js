!function(e){"use strict";function t(e){return"ium"===e.slice(-3)?e=e.substr(0,e.length-3)+"ia":e+="s",e}function r(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}).substr(1)}"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="FlexSites"),e.module("FlexSites",["ngResource"]).value("apiBase","https://api.flexsites.io/api/v1").value("authHeader","authorization").config(["$sceDelegateProvider",function(e){e.resourceUrlWhitelist(["self","http://*.flexhub.io/**","https://*.flexhub.io/**","http://*.flexsites.io/**","https://*.flexsites.io/**","http://*.youtube.com/**","https://*.youtube.com/**"])}]),e.module("FlexSites").directive("flexForm",[function(){}]),e.module("FlexSites").factory("FlexAdverisement",["FlexSiteResource",function(e){return e("Adverisement")}]),e.module("FlexSites").factory("FlexContactMessage",["FlexSiteResource",function(e){return e("ContactMessage")}]),e.module("FlexSites").factory("FlexCustomerProduct",["FlexSiteResource",function(e){return e("CustomerProduct")}]),e.module("FlexSites").factory("FlexEntertainer",["FlexSiteResource",function(e){return e("Entertainer")}]),e.module("FlexSites").factory("FlexEvent",["FlexSiteResource",function(e){return e("Event")}]),e.module("FlexSites").factory("FlexMedium",["FlexSiteResource",function(e){return e("Medium")}]),e.module("FlexSites").factory("Order",["FlexSiteResource",function(e){var t=e("Order",{token:{url:"/token",method:"GET"}});return t.modelName="Order",t}]),e.module("FlexSites").factory("FlexPage",["FlexSiteResource",function(e){return e("Page")}]),e.module("FlexSites").factory("FlexPost",["FlexSiteResource",function(e){return e("Post")}]),e.module("FlexSites").factory("FlexProduct",["FlexSiteResource",function(e){return e("Product")}]),e.module("FlexSites").factory("FlexPromotion",["FlexSiteResource",function(e){return e("Promotion")}]),e.module("FlexSites").factory("FlexSeat",["FlexSiteResource",function(e){return e("Seat")}]),e.module("FlexSites").factory("FlexSection",["FlexSiteResource",function(e){return e("Section")}]),e.module("FlexSites").factory("Session",["FlexSiteResource","FlexSiteAuth",function(e,t){var r=e("Session",{create:{params:{include:"session"},interceptor:{response:function(e){var r=e.data;return t.setUser(r.id,r.sessionId,r.session),t.rememberMe=e.config.params.rememberMe!==!1,t.save(),e.resource}},url:"/",method:"POST"},deleteById:{interceptor:{response:function(e){return t.clearSession(),t.clearStorage(),e.resource}},url:"/",method:"DELETE"},confirm:{url:"/confirm",method:"GET"}});return r.signIn=r.create,r.signOut=r.destroyById,r.getCachedCurrent=function(){var e=t.currentSessionData;return e?new r(e):null},r.isAuthenticated=function(){return null!==this.getCurrentId()},r.getCurrentId=function(){return t.currentSessionId},r.modelName="Session",r}]).factory("FlexSiteAuth",function(){function e(){var e=this;o.forEach(function(t){e[t]=r(t)}),this.rememberMe=void 0,this.currentSessionData=null}function t(e,t,r){var o=n+t;null===r&&(r=""),e[o]=r}function r(e){var t=n+e;return localStorage[t]||sessionStorage[t]||null}var o=["accessTokenId","currentSessionId"],n="$FlexSite$";return e.prototype.save=function(){var e=this,r=this.rememberMe?localStorage:sessionStorage;o.forEach(function(o){t(r,o,e[o])})},e.prototype.setUser=function(e,t,r){this.accessTokenId=e,this.currentSessionId=t,this.currentSessionData=r},e.prototype.clearSession=function(){this.accessTokenId=null,this.currentSessionId=null,this.currentSessionData=null},e.prototype.clearStorage=function(){o.forEach(function(e){t(sessionStorage,e,null),t(localStorage,e,null)})},new e}),e.module("FlexSites").factory("FlexShowtime",["FlexSiteResource",function(e){return e("Showtime")}]),e.module("FlexSites").factory("FlexSite",["FlexSiteResource",function(e){return e("Site")}]),e.module("FlexSites").factory("FlexSKU",["FlexSiteResource",function(e){return e("SKU")}]),e.module("FlexSites").factory("FlexSubscriber",["FlexSiteResource",function(e){return e("Subscriber")}]),e.module("FlexSites").factory("FlexTestimonial",["FlexSiteResource",function(e){return e("Testimonial")}]),e.module("FlexSites").factory("FlexTicket",["FlexSiteResource",function(e){return e("Ticket")}]),e.module("FlexSites").factory("FlexTweet",["FlexSiteResource",function(e){return e("Tweet")}]),e.module("FlexSites").factory("User",["FlexSiteResource","FlexSiteAuth",function(e,t){var r=e("User",{resetPassword:{url:"/reset",method:"POST"},getCurrent:{url:"/:id",method:"GET",params:{id:function o(){var o=t.currentUserId;return null===o&&(o="__anonymous__"),o}},interceptor:{response:function(e){return t.currentUserData=e.data,e.resource}},__isGetCurrentUser__:!0}});return r.signIn=r.login,r.signOut=r.logout,r.updateOrCreate=r.upsert,r.update=r.updateAll,r.getCachedCurrent=function(){var e=t.currentUserData;return e?new r(e):null},r.isAuthenticated=function(){return null!==this.getCurrentId()},r.getCurrentId=function(){return t.currentUserId},r.modelName="User",r}]).factory("FlexSiteAuth",function(){function e(){var e=this;o.forEach(function(t){e[t]=r(t)}),this.rememberMe=void 0,this.currentUserData=null}function t(e,t,r){var o=n+t;null===r&&(r=""),e[o]=r}function r(e){var t=n+e;return localStorage[t]||sessionStorage[t]||null}var o=["accessTokenId","currentUserId"],n="$FlexSite$";return e.prototype.save=function(){var e=this,r=this.rememberMe?localStorage:sessionStorage;o.forEach(function(o){t(r,o,e[o])})},e.prototype.setUser=function(e,t,r){this.accessTokenId=e,this.currentUserId=t,this.currentUserData=r},e.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},e.prototype.clearStorage=function(){o.forEach(function(e){t(sessionStorage,e,null),t(localStorage,e,null)})},new e}),e.module("FlexSites").factory("FlexVenue",["FlexSiteResource",function(e){return e("Venue")}]),e.module("FlexSites").provider("FlexSiteResource",function(){this.$get=["$resource","apiBase",function(o,n){return function(u,i){var s="/"+r(t(u)),l=n+s,c={id:"@id"};i=e.extend({},{create:{method:"POST"},upsert:{url:"/:id",method:"PUT"},exists:{url:"/:id/exists",method:"GET"},findById:{url:"/:id",method:"GET"},find:{isArray:!0,method:"GET"},findOne:{url:"/findOne",method:"GET"},updateAll:{url:"/update",method:"POST"},deleteById:{url:"/:id",method:"DELETE"},count:{url:"/count",method:"GET"}},i),e.forEach(i,function(e){e.url=e.url?l+e.url:l,e.withCredentials=!0});var a=o(l+"/:id",c,i);return a.updateOrCreate=a.upsert,a.update=a.updateAll,a.destroyById=a.deleteById,a.removeById=a.deleteById,a.modelName=u,a.prototype.modelName=u,a.prototype.$save=function(e,t){var r=a.upsert.call(this,{},this,e,t);return r.$promise||r},a}}]})}(window.angular);
//# sourceMappingURL=sdk.js.map
